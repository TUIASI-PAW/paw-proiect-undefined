<section class="auth-form-container">
    <form class="formular" [formGroup]="formGroup">
        <p>
            <mat-form-field appearance="standard" class="input-formular">
                <mat-label *ngIf="!formGroup.controls.lastname.invalid">
                    <mat-icon class="validInput">done</mat-icon>
                </mat-label>
                <mat-label>Nume</mat-label>

                <input formControlName="lastname" matInput>
                <mat-icon matSuffix>person</mat-icon>

                <mat-hint>ex: Băsescu</mat-hint>
                <mat-error *ngIf="formGroup.controls.lastname.invalid">{{getErrorMessage("lastname")}}</mat-error>
            </mat-form-field>
        </p>
        <p>
            <mat-form-field appearance="standard" class="input-formular">
                <mat-label *ngIf="!formGroup.controls.firstname.invalid">
                    <mat-icon class="validInput">done</mat-icon>
                </mat-label>
                <mat-label>Prenume</mat-label>

                <input formControlName="firstname" matInput>
                <mat-icon matSuffix>person</mat-icon>

                <mat-hint>ex: Traian</mat-hint>
                <mat-error *ngIf="formGroup.controls.firstname.invalid">{{getErrorMessage("firstname")}}</mat-error>
            </mat-form-field>
        </p>
        <p>
            <mat-form-field appearance="standard" class="input-formular">
                <mat-label *ngIf="!formGroup.controls.email.invalid">
                    <mat-icon class="validInput">done</mat-icon>
                </mat-label>
                <mat-label> Email</mat-label>

                <input formControlName="email" matInput>
                <mat-icon matSuffix>alternate_email</mat-icon>

                <mat-hint>ex: magic_traian_băsi@yahoo.com</mat-hint>
                <mat-error *ngIf="formGroup.controls.email.invalid">{{getErrorMessage("email")}}</mat-error>
            </mat-form-field>
        </p>
        <p>
            <mat-form-field appearance="standard" class="input-formular">
                <mat-label *ngIf="!formGroup.controls.phone.invalid">
                    <mat-icon class="validInput">done</mat-icon>
                </mat-label>
                <mat-label>Număr de telefon</mat-label>

                <input formControlName="phone" matInput>
                <mat-icon matSuffix>phone</mat-icon>

                <mat-hint>ex: 0792929292</mat-hint>
                <mat-error *ngIf="formGroup.controls.phone.invalid">{{getErrorMessage("phone")}}</mat-error>
            </mat-form-field>
        </p>

        <p>
            <mat-form-field appearance="standard" class="input-formular">
                <mat-label *ngIf="!formGroup.controls.password.invalid">
                    <mat-icon class="validInput">done</mat-icon>
                </mat-label>
                <mat-label>Parola</mat-label>

                <input formControlName="password" matInput type="password">
                <mat-icon matSuffix>lock</mat-icon>

                <mat-hint>ex: parLAmentaRICINstiti</mat-hint>
                <mat-error *ngIf="formGroup.controls.password.invalid">{{getErrorMessage("password")}}</mat-error>
            </mat-form-field>
        </p>

        <mat-error *ngIf="!isValid">{{getErrorMessage("form")}}</mat-error>
        
        <p class="finalErrorMessageStyle">
            <mat-error *ngIf="apiMsg">{{apiMsg}}</mat-error>
            <mat-spinner *ngIf="isWaitingForApiResponse" diameter="30"></mat-spinner>
        </p>

        <button *ngIf="!isWaitingForApiResponse" type="button" mat-stroked-button class="buttonBF" (click)="register()">Înregistrare</button>
    </form>
    <a [routerLink]="'/autentificare'">Sau autentifică-te</a>
    <br />
    <a [routerLink]="'/home'">Acasă</a>

</section>